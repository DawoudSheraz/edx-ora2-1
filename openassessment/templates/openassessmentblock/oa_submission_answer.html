{% spaceless %}
{% load i18n %}
{% load oa_extras %}
<ol class="submission__answer__display__content">
    {% for part in answer.parts %}
        <li class="submission__answer__part"
            {% if not forloop.first and forloop.counter|divisibleby:2 %} style="display: inline-block; width:50%" {%endif%}
            {% if not forloop.first and not forloop.counter|divisibleby:2 %} style="float: right; width:50%" {%endif%}>
            <div class="submission__answer__part__text">
                {% if forloop.first %}
                <h5 class="submission__answer__part__text__title">{% trans "The question for this section" %}</h5>
                {% endif %}
            </div>
            <article class="submission__answer__part__prompt">
                <div class="submission__answer__part__prompt__value">
                    {% if prompts_type == 'html' %}
                        {{ part.prompt.description|safe }}
                    {% else %}
                        {{ part.prompt.description|linebreaks }}
                    {% endif %}
                </div>
            </article>
            {% if part.text %}
            <div class="submission__answer__part__text">
                {% if forloop.first %}
                <h5 class="submission__answer__part__text__title">{{ answer_text_label }}</h5>
                {% endif %}

                {% if forloop.counter|divisibleby:4 %}
                    {% if staff_correct %}
                        <div class="submission__answer__part__text__value" style="border: 5px solid green;">
                    {%else%}
                        <div class="submission__answer__part__text__value" style="border: 5px solid red;">
                    {%endif%}
                {% elif forloop.counter|divisibleby:2%}
                        {% if sample_correct %}
                        <div class="submission__answer__part__text__value" style="border: 5px solid green;">
                    {%else%}
                        <div class="submission__answer__part__text__value" style="border: 5px solid red;">
                    {%endif%}
                {%else%}
                <div class="submission__answer__part__text__value" >
                {%endif%}
                        <pre>
                    {{ part.text|escape|link_and_linebreak }}
                        </pre>
                </div>
            </div>
            {% endif %}
        </li>
    {% endfor %}
</ol>
{% endspaceless %}
